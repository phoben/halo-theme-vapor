<article class="fade-before" th:fragment="case-card(post)">
  <a
    class="case-card group relative z-[1] flex w-full transform-cpu rounded-2xl border border-zinc-100 bg-white p-4 transition-all hover:border-zinc-200 hover:shadow-lg dark:border-zinc-700/40 dark:bg-zinc-800/50 dark:hover:border-zinc-600/40"
    th:href="@{${post.status.permalink}}"
    th:title="${post.spec.title}"
  >
    <!-- 左侧封面图 -->
    <div class="relative h-24 w-32 shrink-0 md:h-32 md:w-40">
      <img
        th:if="${!#strings.isEmpty(post.spec.cover)}"
        alt=""
        loading="lazy"
        decoding="async"
        class="case-card-cover load h-full w-full rounded-xl object-cover"
        th:src="${post.spec.cover}"
        th:srcset="|${thumbnail.gen(post.spec.cover, 's')} 400w,
                  ${thumbnail.gen(post.spec.cover, 'm')} 800w|"
        sizes="(max-width: 768px) 128px, 160px"
        th:alt="${post.spec.title}"
      />
    </div>

    <!-- 右侧内容 -->
    <div class="ml-4 flex flex-1 flex-col justify-between">
      <!-- 标题 -->
      <div>
        <h2
          class="text-base font-bold tracking-tight text-zinc-900 transition-colors group-hover:text-blue-600 md:text-lg dark:text-zinc-100 dark:group-hover:text-blue-400"
          th:text="${post.spec.title}"
        ></h2>

        <!-- 文章概要 -->
        <p
          class="mt-2 line-clamp-2 text-sm text-zinc-600 dark:text-zinc-400"
          th:if="${post.status.excerpt}"
          th:text="${post.status.excerpt}"
        ></p>
      </div>

      <!-- 底部信息 -->
      <div class="mt-3 flex flex-wrap items-center gap-x-4 gap-y-2 text-xs text-zinc-500 dark:text-zinc-400">
        <!-- 发布日期 -->
        <span class="inline-flex items-center space-x-1">
          <svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M8 2V4.12777M8 6V4.12777M16 2V4.12777M16 6V4.12777M20.9597 10C21 10.7878 21 11.7554 21 13C21 15.7956 21 17.1935 20.5433 18.2961C19.9343 19.7663 18.7663 20.9343 17.2961 21.5433C16.1935 22 14.7956 22 12 22C9.20435 22 7.80653 22 6.7039 21.5433C5.23373 20.9343 4.06569 19.7663 3.45672 18.2961C3 17.1935 3 15.7956 3 13C3 11.7554 3 10.7878 3.0403 10M20.9597 10C20.9095 9.01824 20.7967 8.31564 20.5433 7.7039C19.9343 6.23373 18.7663 5.06569 17.2961 4.45672C16.9146 4.29871 16.4978 4.19536 16 4.12777M20.9597 10L3.0403 10M3.0403 10C3.09052 9.01824 3.20333 8.31564 3.45672 7.7039C4.06569 6.23373 5.23373 5.06569 6.7039 4.45672C7.08538 4.29871 7.50219 4.19536 8 4.12777M8 4.12777C8.94106 4 10.1716 4 12 4C13.8284 4 15.0589 4 16 4.12777"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            ></path>
          </svg>
          <span th:text="${#dates.format(post.spec.publishTime,'yyyy/MM/dd')}"></span>
        </span>

        <!-- 分类 -->
        <span th:if="${not #lists.isEmpty(post.categories)}" class="inline-flex items-center space-x-1">
          <i class="iconfont icon-cate text-sm"></i>
          <span
            th:title="${post.categories[0].spec.displayName}"
            th:text="${post.categories[0].spec.displayName}"
          ></span>
        </span>

        <!-- 统计信息 -->
        <span class="inline-flex items-center space-x-3">
          <span class="inline-flex items-center space-x-1">
            <i class="iconfont icon-views1 text-sm"></i>
            <span>[[${post.stats.visit}]]</span>
          </span>
          <span class="inline-flex items-center space-x-1">
            <i class="iconfont icon-friends text-sm"></i>
            <span>[[${post.stats.comment}]]</span>
          </span>
        </span>
      </div>
    </div>
  </a>
</article>
